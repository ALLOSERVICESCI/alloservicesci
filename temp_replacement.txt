  useEffect(() => {
    if (!marqueeW || !textW || marqueeItems.length === 0) return;
    marqueeX.stopAnimation();
    const speed = 60; // px/s
    const distance = textW; // with double-buffer, shift by exactly one text width
    const duration = (distance / speed) * 1000;
    const loop = () => {
      marqueeX.setValue(0);
      Animated.timing(marqueeX, { toValue: -distance, duration, easing: Easing.linear, useNativeDriver: true }).start(({ finished }) => {
        if (finished) loop();
      });
    };
    const id = setTimeout(loop, 100);
    return () => { clearTimeout(id); marqueeX.stopAnimation(); };
  }, [marqueeW, textW, marqueeItems]);